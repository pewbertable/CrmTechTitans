@page
@model CrmTechTitans.Areas.Identity.Pages.Account.ApprovalWaitingModel

@{
    ViewData["Title"] = "Account Pending Approval";
    Layout = "/Views/Shared/_Layout.cshtml";
}

<div class="container py-5">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card shadow border-0">
                <div class="card-body p-5 text-center">
                    <div class="mb-4">
                        <i class="fas fa-user-clock fa-4x text-warning"></i>
                    </div>
                    <h1 class="h3 mb-3">Account Pending Approval</h1>
                    
                    <div class="steps-progress mb-4">
                        <div class="progress" style="height: 5px;">
                            <div class="progress-bar bg-success" role="progressbar" style="width: 66%;" aria-valuenow="66" aria-valuemin="0" aria-valuemax="100"></div>
                        </div>
                        <div class="d-flex justify-content-between mt-2">
                            <div class="step completed">
                                <span class="step-icon bg-success">
                                    <i class="fas fa-check text-white"></i>
                                </span>
                                <span class="step-label">Registration</span>
                            </div>
                            <div class="step completed">
                                <span class="step-icon bg-success">
                                    <i class="fas fa-check text-white"></i>
                                </span>
                                <span class="step-label">2FA Setup</span>
                            </div>
                            <div class="step active">
                                <span class="step-icon bg-warning">
                                    <i class="fas fa-hourglass-half text-white"></i>
                                </span>
                                <span class="step-label">Admin Approval</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="alert alert-info" role="alert">
                        <h5><i class="fas fa-info-circle me-2"></i> Two-factor Authentication Setup Complete</h5>
                        <p>You've successfully set up two-factor authentication for your account.</p>
                    </div>
                    
                    <div class="alert alert-warning" role="alert">
                        <h5><i class="fas fa-user-shield me-2"></i> Waiting for Administrator Approval</h5>
                        <p>Your account registration has been received and is pending approval by an administrator.</p>
                        <p>You will be notified once your account has been approved. This typically takes 1-2 business days.</p>
                    </div>
                    
                    <div class="mt-4">
                        <form method="post" asp-page-handler="Logout">
                            <button type="submit" class="btn btn-outline-secondary btn-lg px-5">
                                <i class="fas fa-sign-out-alt me-2"></i> Log Out
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script>
        // Clean up the layout - hide the aside navigation if present
        document.addEventListener('DOMContentLoaded', function() {
            const sideNavs = document.querySelectorAll('aside, .sidebar, nav.sidebar');
            sideNavs.forEach(nav => {
                if (nav) {
                    nav.style.display = 'none';
                }
            });
            
            // Try to make the main content full width
            const mainContent = document.querySelector('main, .main-content, #main-content');
            if (mainContent) {
                mainContent.classList.add('col-md-12');
                mainContent.classList.remove('col-md-9', 'col-md-8', 'col-md-10');
            }
        });
    </script>
}

<style>
    .steps-progress {
        margin: 40px 0;
    }
    
    .step {
        text-align: center;
        position: relative;
        width: 33%;
    }
    
    .step-icon {
        width: 30px;
        height: 30px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto 8px;
    }
    
    .step-label {
        font-size: 12px;
        display: block;
    }
    
    .step.completed .step-icon {
        background-color: #28a745;
    }
    
    .step.active .step-icon {
        background-color: #ffc107;
    }
</style> 